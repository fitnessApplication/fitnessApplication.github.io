<!DOCTYPE html>
<html>
<head>
   <meta charset="utf-8">
   <meta name="viewport" content="width=device-width">
   <link rel="shortcut icon" type="image/x-icon" href="favicon.ico"/>
   <link rel="stylesheet" type="text/css" href="style/icons.css"/>
   <link rel="stylesheet" type="text/css" href="style/principal.css"/>
   <link rel="stylesheet" type="text/css" href="style/header.css"/>
   <link rel="stylesheet" type="text/css" href="style/toolbar.css"/>
   <link rel="stylesheet" type="text/css" href="style/sidebar.css"/>
   <link rel="stylesheet" type="text/css" href="style/menulist.css"/>
   <link rel="stylesheet" type="text/css" href="style/pagebody.css"/>
   <link rel="stylesheet" type="text/css" href="style/table.css"/>
   <script type="text/javascript" src="js_template/dispatcher.js"></script>
   <script type="text/javascript" src="js_template/install.js"></script>
   <script type="text/javascript" src="js_template/toolbar.js"></script>
   <script type="text/javascript" src="js_template/sidebar.js"></script>
   <script type="text/javascript" src="js_template/menulist.js"></script>
   <script type="text/javascript" src="js_template/pagebody.js"></script>
   <script type="text/javascript" src="js_template/backupRestore.js"></script>
   <script type="text/javascript" src="js_template/createTables.js"></script>
   <script type="text/javascript" src="js_template/fillForms.js"></script>
   <script src="js/exercise.js"></script>
   <script src="js/exercisesManager.js"></script>
   <script src="js/meal.js"></script>
   <script src="js/mealsManager.js"></script>
   <script src="js/day.js"></script>
   <script src="js/daysManager.js"></script>
   <script src="js/localDB.js"></script>
   <script src="js/displayManager.js"></script>
   <script src="generatedData.js"></script>
   <title>FxOS Stub</title>
</head>
<body>
   <div id="downloadVisible"></div>
   <section class="principal">
      <header>
        <button id="sidebar_trigger" class="icon menu"></button>
        <h1>Fitness</h1>
        <ul>
          <!-- <li id="install">Install</li> -->
        </ul>
      </header>

      <div id="homePage" class="pagebody" aria-expanded="true">
         <div class="" > <!-- TODO rewrite home page -->
            <h2 id="todayBoard">Home Page</h2>
            <p>After first start you must load either template (button at the top right) or db from JSON file (backup/restore page). Next start db will be loaded from local storage</p>
            <p>What is already implemented?</p>
            <ol style="text-align:left">
               <li><b>Meals page</b>
                  <ul>
                     <li>Show table with all meals in localDB</li>
                     <li>Click to the meals will open meals editor</li>
                     <li>Delete meal via meals editor</li>
                     <li>Update meal via meals editor</li>
                     <li>Add meal to the database</li>
                  </ul>
               </li>
               <li><b>Exercises page</b>
                  <ul>
                     <li>Show table with all exercises in localDB</li>
                     <li>Click to the exercises will open exercises editor</li>
                     <li>Delete exercise via exercises editor</li>
                     <li>Update exercise via exercises editor</li>
                     <li>Add exercise to the database</li>
                  </ul>
               </li>
               <li><b>Days page</b>
                  <ul>
                     <li>Show all days </li>
                     <li>Click to the day will open selected day page</li>
                  </ul>
               </li>
               <li><b>Day page</b>
                  <ul>
                     <li>Show meals and exercises table in the day</li>
                     <li>Click to the exercise or meal will open theirs editor</li>
                     <li>Delete meal/exercise from the day</li>
                     <li>Update meal/exercise from the day</li>
                     <li>Add meal/exercise to the day either set from database or set new values</li>
                  </ul>
               </li>
               <li><b>Backup/Restore</b>
                  <ul>
                     <li>Import local DB as JSON</li>
                     <li>Export local DB as JSON (issue on windows phone browser and firefox os simulator)</li>
                     <li>Delete local storage</li>
                  </ul>
               </li>

            </ol>
            <div id="homeDayBoard"> <!-- Temp day -->
            </div>
         </div>
      </div>
      <div id="pageMeals" class="pagebody" aria-owns="addNewMeal">
         <div class="generalBoard" >
            <h2> Meals </h2>
            <div id="mealsBoard">
            </div>
         </div>
      </div>
      <div id="pageExercises" class="pagebody" aria-owns="addNewExercise">
         <div class="generalBoard" >
            <h2> Exercises </h2>
            <div id="exercisesBoard">
            </div>

         </div>
      </div>
      <div id="pageDays" class="pagebody">
         <div class="generalBoard">
            <h2> Days </h2>
            <div id="daysBoard">
            </div>
         </div>
         <!-- End of Junkyard - - - - - - - - - - - - - - - - - - - - - - - -->
      </div>
      <div id="pageDay" class="pagebody" aria-owns="addToolbar">
         <header>
            <button class="icon back" onclick="deleteShowTable('dayBoard');deleteShowTable('daysBoard');showGlobalDays();revealPage(previousPages.pop());"></button>
            <h2>Day</h2>
         </header>
         <div class="generalBoard">
            <div id="dayBoard">
            </div>
         </div>
      </div>
      <div id="pageGraphs" class="pagebody">
         <!-- Junkyard, only for the sake of the example - NOT for real use -->
         <div style="margin:0.5rem 1rem 0.5rem 1rem">
            <h3 style="text-align: center">Graphs</h3>
         </div>
         <!-- End of Junkyard - - - - - - - - - - - - - - - - - - - - - - - -->
      </div>
      <div id="pageNotes" class="pagebody">
         <!-- Junkyard, only for the sake of the example - NOT for real use -->
         <div style="margin:0.5rem 1rem 0.5rem 1rem">
            <h3 style="text-align: center">Notes</h3>
         </div>
         <!-- End of Junkyard - - - - - - - - - - - - - - - - - - - - - - - -->
      </div>
      <div id="pageAbout" class="pagebody">
         <!-- Junkyard, only for the sake of the example - NOT for real use -->
         <div style="margin:0.5rem 1rem 0.5rem 1rem">
            <h3 style="text-align: center">About</h3>
         </div>
         <!-- End of Junkyard - - - - - - - - - - - - - - - - - - - - - - - -->
      </div>
      <div id="pageBackup" class="pagebody" aria-owns="backupRestore">
         <header>
            <button class="icon back" onclick="revealPage('homePage');"></button>
            <h2>Backup and Restore</h2>
         </header>
         <!-- Junkyard, only for the sake of the example - NOT for real use -->
         <div style="margin:0.5rem 1rem 0.5rem 1rem">
            <h3 style="text-align: center">Restore/Backup</h3>
            <br>
            <button onclick="deleteLocal();loadTemplate();">Load template</button><br>
            <br>
            <button onclick="deleteLocal();generatedData();">Load random generated data</button><br>
            <br>
         </div>
         <!-- End of Junkyard - - - - - - - - - - - - - - - - - - - - - - - -->
      </div>
      <div id="editMealPage" class="pagebody" aria-owns="editToolbar">
         <header>
            <button class="icon back" onclick="revealPage(previousPages.pop())"></button>
            <h2>Edit Meal</h2>
         </header>
         <div class="generalBoard" >
            <form id="editMealForm">
               Name: <br><input type="text" name="nameM" /> <br>
               Protein: <br><input type="text" name="protein" /> <br>
               Carbohydrate: <br><input type="text" name="carbohydrate" /> <br>
               Fat:<br><input type="text" name="fat"/> <br>
               Kcal: <br><input type="text" name="kcal"/> <br>
               Method: <br><select>
                  <option value="100g">100g</option>
                  <option value="one piece">one piece</option>
               </select> <br>
               Part of day: <br><select>
               <option value="breakfast">Breakfast</option>
               <option value="lunch">Lunch</option>
               <option value="dinner">Dinner</option>
               <option value="snack">Snack</option>
            </select>
            </form>
         </div>
      </div>
      <div id="editExercisePage" class="pagebody" aria-owns="editToolbar">
         <header>
            <button class="icon back" onclick="revealPage(previousPages.pop())"></button>
            <h2>Edit Exercise</h2>
         </header>
         <div class="generalBoard" >
            <form id="editExerciseForm">
               Name:<br> <input type="text" name="nameE" /> <br>
               Kcal:<br> <input type="text" name="kcal" /> <br>
            </form>
         </div>
      </div>
      <div id="pageMealsToAdd" class="pagebody" aria-owns="addNewMeal">
         <!-- An autarchic page -->
         <header>
            <button class="icon back" onclick="revealPage(previousPages.pop());"></button>
            <h2>Choose meal from database</h2>
         </header>
         <div class="generalBoard" >
            <h2> Meals </h2>
            <div id="addFromMealsBoard">
            </div>
         </div>
      </div>
      <div id="pageExercisesToAdd" class="pagebody" aria-owns="addNewExercise">
         <!-- An autarchic page -->
         <header>
            <button class="icon back" onclick="revealPage(previousPages.pop());"></button>
            <h2>Choose exercise from database</h2>
         </header>
         <div class="generalBoard" >
            <h2> Exercises </h2>
            <div id="addFromExercisesBoard">
            </div>
         </div>
      </div>
      <div id="addNewMealToGlobalPage" class="pagebody" aria-owns="saveToolbar">
         <header>
            <button class="icon back" onclick="document.getElementById('addNewMealToGlobalForm').reset();revealPage(previousPages.pop())"></button>
            <h2>Add new meal to the database</h2>
         </header>
         <div class="generalBoard" >
            <form id="addNewMealToGlobalForm">
               Name: <br><input type="text" name="nameM" /> <br>
               Protein: <br><input type="text" name="protein" /> <br>
               Carbohydrate: <br><input type="text" name="carbohydrate" /> <br>
               Fat:<br><input type="text" name="fat"/> <br>
               Kcal: <br><input type="text" name="kcal"/> <br>
               <button>Calculate kcal according other values.</button><br>
               <br>
               Method:<br>
               <select>
                  <option value="100g">100g</option>
                  <option value="one piece">one piece</option>
               </select>
            </form>
         </div>
      </div>
      <div id="addMealFromGlobalPage" class="pagebody" aria-owns="saveToolbar">
         <header>
            <button class="icon back" onclick="document.getElementById('addMealFromGlobalForm').reset();revealPage(previousPages.pop())"></button>
            <h2>Add meal from database</h2>
         </header>
         <div class="generalBoard" >
            <form id="addMealFromGlobalForm">
               Name: <br><input type="text" name="nameM" /> <br>
               Protein: <br><input type="text" name="protein" /> <br>
               Carbohydrate: <br><input type="text" name="carbohydrate" /> <br>
               Fat:<br><input type="text" name="fat"/> <br>
               Kcal: <br><input type="text" name="kcal"/> <br>
               <button>Edit values</button><br>
               Part of day: <br><select>
               <option value="breakfast">Breakfast</option>
               <option value="lunch">Lunch</option>
               <option value="dinner">Dinner</option>
               <option value="snack">Snack</option>
            </select>
               <br>
               Count: <br><input type="text" name="count" style="width:70%;"/>
               <select>
                  <option value="100g">100g</option>
                  <option value="one piece">one piece</option>
               </select>
            </form>
         </div>
      </div>
      <div id="addNewMealPage" class="pagebody" aria-owns="saveToolbar">
         <header>
            <button class="icon back" onclick="document.getElementById('addNewMealForm').reset();revealPage(previousPages.pop())"></button>
            <h2>Add new meal to the day</h2>
         </header>
         <div class="generalBoard" >
            <form id="addNewMealForm">
               Name: <br><input type="text" name="nameM" /> <br>
               Protein: <br><input type="text" name="protein" /> <br>
               Carbohydrate: <br><input type="text" name="carbohydrate" /> <br>
               Fat:<br><input type="text" name="fat"/> <br>
               Kcal: <br><input type="text" name="kcal"/> <br>
               <button>Calculate kcal according other values.</button><br>
               Part of day: <br><select>
               <option value="breakfast">Breakfast</option>
               <option value="lunch">Lunch</option>
               <option value="dinner">Dinner</option>
               <option value="snack">Snack</option>
            </select>
            </form>
         </div>
      </div>
      <div id="addExercisePage" class="pagebody" aria-owns="saveToolbar">
         <header>
            <button class="icon back" onclick="document.getElementById('addExerciseForm').reset();revealPage(previousPages.pop())"></button>
            <h2>Add exercise</h2>
         </header>
         <div class="generalBoard" >
            <form id="addExerciseForm">
               Name:<br> <input type="text" name="nameE" /> <br>
               Kcal:<br> <input type="text" name="kcal" /> <br>
               <br>
               Count: <br><input type="text" name="count"/> <br>
            </form>
         </div>
      </div>

      <footer class="toolbar">
         <menu id="addToolbar" type="toolbar">
            <li id="addMealButton" aria-controls="pageMealsToAdd">addMeal</li>
            <li id="addExerciseButton" aria-controls="pageExercisesToAdd">addExercise</li>
         </menu>
         <menu id="saveToolbar" type="toolbar">
            <li id="saveButton" class="icon add" ></li>
         </menu>
         <menu id="addNewMeal" type="toolbar">
            <li id="addNewMealButton" class="icon add" > Add new meal</li>
         </menu>
         <menu id="addNewExercise" type="toolbar">
            <li id="addNewExerciseButton" class="icon add" > Add new exercise</li>
         </menu>
         <menu id="backupRestore" type="toolbar">
            <li class="icon mail_reply" onclick="document.getElementById('upJsonFile').click();">
               <input id="upJsonFile" type="file" onchange="loadFromFile(this.files)" style="display: none;">
               Import
            </li>
            <li class="icon mail_forward" onclick="saveJSON()">Export</li>
            <li class="icon delete" onclick="deleteLocal()"></li>
         </menu>
         <menu id="editToolbar" type="toolbar">
            <li id="deleteIconEdit" class="icon delete">Delete</li>
            <li id="updateIconEdit" class="icon move_file">Update</li>
         </menu>
      </footer>
   </section>

   <section class="sidebar">
      <header style="text-align: center">
         <h2>Menu</h2>
      </header>
      <div class="menulist">
         <menuitem aria-controls="homePage" type="command" label="HOME"></menuitem>
         <menuitem aria-controls="pageDays" type="command" label="Days" onclick="deleteShowTable('daysBoard');showGlobalDays();"></menuitem>
         <menuitem aria-controls="pageMeals" type="command" label="Meals" onclick="deleteShowTable('mealsBoard');showGlobalMeals();"></menuitem>
         <menuitem aria-controls="pageExercises" type="command" label="Exercises" onclick="deleteShowTable('exercisesBoard');showGlobalExercises();"></menuitem>
         <menuitem aria-controls="pageGraphs" type="command" label="Graph"></menuitem>
         <menuitem aria-controls="pageNotes" type="command" label="Notes"></menuitem>
         <menuitem aria-controls="pageBackup" type="command" label="Backup/Restore"></menuitem>
         <menuitem aria-controls="pageAbout" type="command" label="About"></menuitem>
      </div>
   </section>
</body>
</html>