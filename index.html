<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
    <head>
        <meta charset="UTF-8">
        <title>Fitness</title>
    <!--    <script>
            document.addEventListener("DOMContentLoaded", function(event) {
                localDB();
            });
        </script> -->
        <script src="js/exercise.js"></script>
        <script src="js/exercisesManager.js"></script>
        <script src="js/meal.js"></script>
        <script src="js/mealsManager.js"></script>
        <script src="js/day.js"></script>
        <script src="js/daysManager.js"></script>
        <script src="js/displayManager.js"></script>
        <script src="js/localDB.js"></script>
        <script src="testFunction.js"></script>

    </head>
    <body>
        LOAD DB : <button id="loadButton" onclick="loadDB()"> LoadDB  </button> <input type="file" id="input" onchange="loadJSONasFile(this.files)">
        <button id="refreshButton" onclick="this.disabled=true; refreshShowDB()"> RefreshDB  </button>
        <br>
        <button onclick="saveLocal()"> Save  </button>
        <button id="saveButton" onclick="saveJSON()"> DownloadDB  </button>
        <br>
        !TEST FUNCTION!
        <button onclick="deleteLocal()" style="color:red"> Delete localStorage  </button>
        <button onclick="loadDB()" style="color:red"> Load Storage Again  </button>
        <button onclick="storageTest()" style="color:red"> Max value in local storage (Wipe all DB!)  </button>
        <div id="downloadVisible"></div>
        <br><hr><br>
        <p><label>Date (not implemented yet): <input id="setDate" type="date" value="2000-05-05"></label></p>

        <form name="addMeal" onsubmit="addDB(this);return false" method="post"> <!--TODO way of forms ??? -->
            Enter meal: <br>
            <input type="text" placeholder="id" name="id" required/>
            <input type="text" placeholder="Name" name="nameM" required/>
            <input type="text" placeholder="protein" name="protein" />
            <input type="text" placeholder="carbohydrate" name="carbohydrate" />
            <input type="text" placeholder="fat" name="fat"/>
            <input type="text" placeholder="kcal" name="kcal"/>
            <input type="submit" value="Submit"/>
            Save to DB<input type="checkbox" name="addToDB" value="saveDB" checked>
            Save to day<input type="checkbox" name="addToDay" value="saveDB" checked>
        </form>

        <form name="addExercise" onsubmit="addDB(this);return false" method="post"> <!--TODO way of forms ??? -->
            Enter exercise: <br>
            <input type="text" placeholder="id" name="id" required/>
            <input type="text" placeholder="Name" name="nameE" required/>
            <input type="text" placeholder="kcal" name="kcal" />
            <input type="submit" value="Submit"/>
            Save to DB<input type="checkbox" name="addToDB" value="saveDB" checked>
            Save to day<input type="checkbox" name="addToDay" value="saveDB" checked>
        </form>


        <br>
        <button onclick="managerM.sortByIdAscending();refreshShowDB()"> Sort Meals by ID (Vzestupne) </button>
        <button onclick="managerM.sortByIdDescending();refreshShowDB()"> Sort Meals by ID (Zestupne) </button>
        <button onclick="managerM.sortByNameFromA();refreshShowDB()"> Sort Meals by Name (from A) </button>
        <button onclick="managerM.sortByNameFromZ();refreshShowDB()"> Sort Meals by Name (from Z) </button>
        <button onclick="managerM.sortByProteinAscending();refreshShowDB()"> Sort Meals by Protein (Vzestupne) </button>
        <button onclick="managerM.sortByProteinDescending();refreshShowDB()"> Sort Meals by Protein (Zestupne) </button>
        <button onclick="managerM.sortByCarbohydrateAscending();refreshShowDB()"> Sort Meals by Carbohydrate (Vzestupne) </button>
        <button onclick="managerM.sortByCarbohydrateDescending();refreshShowDB()"> Sort Meals by Carbohydrate (Zestupne) </button>
        <button onclick="managerM.sortByFatAscending();refreshShowDB()"> Sort Meals by Fat (Vzestupne) </button>
        <button onclick="managerM.sortByFatDescending();refreshShowDB()"> Sort Meals by Fat (Zestupne) </button>
        <button onclick="managerM.sortByKcalAscending();refreshShowDB()"> Sort Meals by Kcal (Vzestupne) </button>
        <button onclick="managerM.sortByKcalDescending();refreshShowDB()"> Sort Meals by Kcal (Zestupne) </button>
        <button onclick="managerM.sortByMethodFromA();refreshShowDB()"> Sort Meals by Method (from A) </button>
        <button onclick="managerM.sortByMethodFromZ();refreshShowDB()"> Sort Meals by Method (from Z) </button>
        <div id="mealsTable"></div>
        <br><hr><br>
        <button onclick="managerE.sortByIdAscending();refreshShowDB()"> Sort Exercises by ID (Vzestupne) </button>
        <button onclick="managerE.sortByIdDescending();refreshShowDB()"> Sort Exercises by ID (Zestupne) </button>
        <button onclick="managerE.sortByNameFromA();refreshShowDB()"> Sort Exercises by Name (from A) </button>
        <button onclick="managerE.sortByNameFromZ();refreshShowDB()"> Sort Exercises by Name (from Z) </button>
        <button onclick="managerE.sortByKcalAscending();refreshShowDB()"> Sort Exercises by Kcal (Vzestupne) </button>
        <button onclick="managerE.sortByKcalDescending();refreshShowDB()"> Sort Exercises by Kcal (Zestupne) </button>
        <div id="exercisesTable"></div>
        <br><hr><br>
        <div id="daysTable"></div>
        <button onclick="managerD.sortByDataAscending();refreshShowDB()"> Sort Day (Vzestupne) </button>
        <button onclick="managerD.sortByDataDescending();refreshShowDB()"> Sort Day (Zestupne) </button>
        <br><hr><br>
        <button onclick="showDays()" > Shows days as string:  </button>
        <div id="showDB"></div>
        <h1>Test functions</h1>

        <button onclick="testFactory.nextMealId()"> Next free id meal:  </button> <p id="nextFreeIdMeal"></p>
        <button onclick="testFactory.nextExerciseId()" > Next free id exercise:  </button> <p id="nextFreeIdExercise"></p>

        <form name="isMealIdInDB" onsubmit="testFactory.isMealIdInDB(this);return false" method="post">
            <input type="text" placeholder="id" name="idM" required/>
            <input type="submit" value="Submit"/>
        </form>
        Is ID is in DB<p id="freeIdMeal"></p>
        <form name="isExerciseIdInDB" onsubmit="testFactory.isExerciseIdInDB(this);return false" method="post">
            <input type="text" placeholder="id" name="idE" required/>
            <input type="submit" value="Submit"/>
        </form>
        Is ID is in DB? <p id="freeIdExercise"></p>
        <br>
        <form name="isMealIdInDB" onsubmit="testFactory.deleteMeal(this);return false" method="post">
            <input type="text" placeholder="id" required/>
            <input type="submit" value="Submit"/>
        </form>
        <form name="isMealIdInDB" onsubmit="testFactory.deleteExercise(this);return false" method="post">
            <input type="text" placeholder="id" required/>
            <input type="submit" value="Submit"/>
        </form>


    </body>
</html>